{% extends 'base.html' %}
{% block title %}Jobs{% endblock %}
{% block content %}
<button id="launch-campaign" class="op-only">Launch Update Campaign</button>
<table id="jobs-table">
  <thead><tr><th>Name</th><th>Status</th><th>Progress</th></tr></thead>
  <tbody></tbody>
</table>
<div id="update-wizard" class="modal hidden">
  <div class="modal-content">
    <div class="step step1">
      <label>Name <input name="name"></label>
      <label>Package <select name="firmware"></select></label>
    </div>
    <div class="step step2" style="display:none">
      <label>Targets <select name="hosts" multiple size="8"></select></label>
    </div>
    <div class="step step3" style="display:none">
      <label>Run at <input type="datetime-local" name="run_at"></label>
    </div>
    <div class="actions">
      <button class="prev">Back</button>
      <button class="next">Next</button>
      <button class="finish">Submit</button>
    </div>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script type="module">
import { openWizard } from '{{ url_for('static', filename='js/wizard.js') }}';
document.getElementById('launch-campaign').addEventListener('click', openWizard);
</script>
{% endblock %}
